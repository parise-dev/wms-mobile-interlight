<div class="container p-0">
  <ion-content class="m-0">
    <ion-grid style="background-color: black; color: #fff;" class="pt-3 p-0 pb-3">
      <ion-row class=" ps-2 pt-4 pe-0 mb-3">

        <h4>
          <i class="bi bi-arrow-left-circle ms-2 me-2 text-36" style="font-size: 24px;" (click)="backHome()"></i>
          DEMANDA DE CORTE
        </h4>
      </ion-row>
      <div class="row ps-2 pe-2">
        <div class="btn-group" role="group" aria-label="Basic example">
        </div>
      </div>


    </ion-grid>
    <div class="m-2 mb-4">
      <div class="input-group m-2 mb-4 me-3">
        <!-- (keydown)="onKeydown($event, barcodeInput)"-->
        <input type="text" class="form-control me-2" #barcodeInput placeholder="Número do volume"
          aria-label="Recipient's username" name="keyD" aria-describedby="basic-addon2">
        <div class="input-group-append me-2">
          <button class="btn btn-outline-secondary" type="button">OK</button>
        </div>
      </div>
    </div>
    <div class="mt-3 mb-3"></div>
    <h6 class="m-2 mt-4 ms-3 mb-3">Pedidos com demanda de corte já separado</h6>

    <div>
      <div class="card borderx m-2 mb-4 p-2" *ngFor="let d of cutsBase; let i = index" (click)="getOrder(d.docNum)">
        <div class="row">
          <h5 class="ms-2 mt-3 mb-0 me-2 pe-2"><span class="bg bg-success rounded text-white ps-2 pe-2 me-2">{{d.docNum}}</span>{{d.cardName}}
          </h5> <!--{{ua.address}}-->

          <p class="text-muted m-3" style="font-size: 14px;"><strong>Separador:</strong> {{d.usuario}}<br> <strong>Observação:</strong> {{d.freeTxt}}
          </p>
        </div>
        <div class="row pe-2 ps-2">
         
        </div>
      </div>
    </div>
    <ion-footer>
    </ion-footer>

  </ion-content>
</div>
<ng-template #modalEditPECAM let-modal>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header modalElinox">
        <h4 class="modal-title" id="modal-basic-title">MANUTENÇÃO DE PEÇAS</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        </button>
      </div>
      <div class="modal-body p-1">
        <div class="row text-10 m-1 mb-2 mt-4 ms-0">
          <label class="mt-2 mb-2 ms-0"><strong>Confirme o novo número de peças: </strong></label>
          <input class="form-control form-control-sm" type="number" [(ngModel)]="qtdeNewVolume" name="qtnv"
            [disabled]="qtdeNewVolumeDisable" />
          <button class="btn btn-primary mt-2 mb-2" (click)="confirmedQtde()">Confirmar</button>
        </div>
        <div class="row text-10 m-1 mb-2 mt-2 ms-0">
          <label class="mt-2 mb-2 ms-0"><strong>Observações: </strong></label>
          <textarea rows="2" class="form-control" name="obsn" [(ngModel)]="obsNew"></textarea>
        </div>
        <div class="row text-10 m-2 p-2 bg bg-primary" *ngIf="qtdeNewVolume > 0 && qtdeNewVolumeConfirmed == true">
          <div class="alert alert-secondary alert-dismissible fade show p-2 mt-2" role="alert">
            {{qtdeNewVolume}} peça(s) para criar volume.
            <button type="button" class="close float-end" (click)="cancelConfirmed()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <p class="mt-2 mb-2 ms-0"><strong>Criar volumes: </strong></p>
          <div class="col-12 mt-2">
            <label>Quantidade (PECA)</label>
            <input type="number" name="qtnpc" class="form-control" placeholder="Quantidade de Peças" [(ngModel)]="qtdeNewPC">
          </div>
          <div class="col-12 mt-2">
            <label>Peso</label>
            <input type="number" class="form-control" placeholder="Peso" [(ngModel)]="qtdeNewWeight">
          </div>
          <div class="col-12 mt-2">
            <label>Tipo de Embalagem</label>
            <select class="form-control" name="package_Name" [(ngModel)]="addNEwPacking.package_Name">
              <option value="PC">PEÇA</option>
              <option value="CX">CAIXA</option>
              <option value="AM">AMARRADO</option>
              <option value="ES">ESTRADO</option>
            </select>
          </div>
          <div class="col-12 mt-2">
            <label>Localização</label>
            <textarea class="form-control" row="4" name="destiny"
              [(ngModel)]="addNEwPacking.destiny"></textarea>
          </div>
          <button class="btn btn-warning p-2 mt-3" type="button" (click)="createVolume()">+ Criar Volume</button>


        </div>



        <table class="table table-striped">
          <thead>
            <tr>
              <th>VOLUME</th>
              <th>PEÇAS</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let vn of volumes">
              <td>{{vn.nameVolume}}</td>
              <td> {{vn.qtdePecas}}</td>
            </tr>
          </tbody>
        </table>
        <button class="btn btn-primary" *ngIf="finished" (click)="confirmCriacao()">
          CONFIRMAR CRIAÇÃO DOS VOLUMES
        </button>
      </div>

    </div>
  </div>
</ng-template>